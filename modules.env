# Copyright 2014 OpenStack Foundation.
# Copyright 2014 Hewlett-Packard Development Company, L.P.
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may
# not use this file except in compliance with the License. You may obtain
# a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.
#
# load additional modules from modules.env
# modules.env should exist in the same folder as install_modules.sh
#
# - use export MODULE_FILE to specify an alternate config
#   when calling install_modules.sh.
#   This allows for testing environments that are configured with alternate
#   module configuration.

# Source modules should use tags, explicit refs or remote branches because
# we do not update local branches in this script.
# Keep sorted
# freenode #puppet 2012-09-25:
# 18:25 < jeblair> i would like to use some code that someone wrote,
# but it's important that i understand how the author wants me to use
# it...
# 18:25 < jeblair> in the case of the vcsrepo module, there is
# ambiguity, and so we are trying to determine what the author(s)
# intent is
# 18:30 < jamesturnbull> jeblair: since we - being PL - are the author
# - our intent was not to limit it's use and it should be Apache
# licensed

OPENSTACK_GIT_ROOT=https://git.openstack.org

# InfraCloud modules
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-cinder"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-glance"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-ironic"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-keystone"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-neutron"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-nova"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-openstack_extras"]="origin/stable/liberty"
SOURCE_MODULES["$OPENSTACK_GIT_ROOT/openstack/puppet-openstacklib"]="origin/stable/liberty"

SOURCE_MODULES["https://git.openstack.org/openstack-infra/puppet-vcsrepo"]="0.0.8"
# NOTE(yolanda): please note that grafana depends on camptocamp-archive. This is a
# potential conflict with puppet-community/puppet-archive. So we cannot
# rely on using any feature on grafana that relies on archive
SOURCE_MODULES["https://github.com/bfraser/puppet-grafana"]="v2.1.0"
SOURCE_MODULES["https://github.com/biemond/biemond-wildfly"]="v0.4.0"
SOURCE_MODULES["https://github.com/duritong/puppet-sysctl"]="v0.0.11"
SOURCE_MODULES["https://github.com/jfryman/puppet-selinux"]="v0.2.5"
SOURCE_MODULES["https://github.com/maestrodev/puppet-wget"]="v1.6.0"
SOURCE_MODULES["https://github.com/n1tr0g/golja-gnupg"]="1.2.2"
SOURCE_MODULES["https://github.com/nanliu/puppet-staging"]="1.0.0"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-apache"]="b9f630a60811694916ecf8758103d4bca2ac6038"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-apt"]="2.1.0"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-concat"]="1.2.5"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-firewall"]="1.1.3"
# TODO(nibalizer): move back to tag once this commit is in a release
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-haproxy"]="5f638ef2dbf66fca67a1774dd8147e6eb596955c"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-inifile"]="1.1.3"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-java_ks"]="1.3.1"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-mysql"]="3.6.2"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-ntp"]="3.2.1"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-postgresql"]="3.4.2"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-puppetdb"]="3.0.1"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-rabbitmq"]="5.2.3"
SOURCE_MODULES["https://github.com/puppetlabs/puppetlabs-stdlib"]="4.10.0"
SOURCE_MODULES["https://github.com/rafaelfelix/puppet-pear"]="1.0.3"
SOURCE_MODULES["https://github.com/saz/puppet-memcached"]="v2.6.0"
SOURCE_MODULES["https://github.com/saz/puppet-timezone"]="v3.3.0"
SOURCE_MODULES["https://github.com/stankevich/puppet-python"]="1.9.4"
SOURCE_MODULES["https://github.com/vamsee/puppet-solr"]="0.0.8"
SOURCE_MODULES["https://github.com/voxpupuli/puppet-alternatives"]="0.3.0"
SOURCE_MODULES["https://github.com/voxpupuli/puppet-archive"]="0.3.0"
SOURCE_MODULES["https://github.com/voxpupuli/puppet-git_resource"]="0.3.0"
SOURCE_MODULES["https://github.com/voxpupuli/puppet-module-puppetboard"]="2.4.0"
SOURCE_MODULES["https://github.com/voxpupuli/puppet-nodejs"]="1.2.0"


# Add modules that should be part of the openstack-infra integration test here
# Please keep sorted
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-accessbot"]="91480ef543afa5ff51847da8937cedd5c4d6fff0"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-ansible"]="ac07f3ae2d881f40b88f44690c2265898a704e82"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-apps_site"]="389e331d6bbe696ab85959bedffc05d7a9165f4b"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-askbot"]="8f84e57f53835ccac1abbceb0592e471fa1cd660"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-asterisk"]="f095058723ea0dbc6acca6078b75ab5f179e8d43"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-bandersnatch"]="6f5b7ec8ced715a78f41f53a1034ff894639df02"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-bugdaystats"]="290618ea745c5f8c7f64c1979c424b0a08caa5a9"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-bup"]="9ca0aab3ea2842ab9e24422d862c122b64b12645"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-cgit"]="1a6b22ab7c578356ba7fef860cb844ee7ae8a197"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-diskimage_builder"]="97cc1d5c2e8b3d77678cb57e91c1cfe3770dd7e9"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-drupal"]="1e9d2496ce108967b18e01251d852066c071750d"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-elastic_recheck"]="ad69a895417c430fafdf6490b70f169c3f58008e"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-elasticsearch"]="d4fcbbff1ce809d5da8d67c901b7ac31837972f2"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-etherpad_lite"]="1348e723d218c40d7c4bac5a53b23ddd2a8d1234"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-exim"]="1cc47e04d0485ade54a244f7f165b27b60a6a1df"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-gerrit"]="5c44d09dc717068f7ea5ee0ff0d2319863991817"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-gerritbot"]="fb832b094b52394d5c6f4dbe7de8f1e668347c66"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-github"]="ec82c98e624188e567b8b8a9ad51118847dfb9f0"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-grafyaml"]="606541ec060a0b8ccd539d56f364934a6ed48d3e"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-graphite"]="16dbc67667f9805a207c57f3a3c74b746cb74a3c"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-haveged"]="207548b42b4eca78be5f726c31c006b5cb5ca6a7"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-hound"]="5b56c083857ffaada2f442f426aa9ab4188df92a"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-httpd"]="8fa18ba136c2730a4c1c68887409a8ea64b6c881"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-infracloud"]="8b0d04ce89490bb6e2c044201ec5853f710056c6"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-iptables"]="5b178cefd3960d1f0c78d4f465933a58cde60887"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-jeepyb"]="0f6076c4324239e8d2408b3ec176e9ed94849af2"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-jenkins"]="6116e612d51c00674acab520da18a7ef70bcb67c"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-kerberos"]="d8ae227d7b874f5d8f4fd71f7e6c38ade25f3577"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-kibana"]="9ece2bf61d32703cd0777a0781c44a87b21f5235"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-lodgeit"]="53cc271ba194fbb6919c13c58b1693c6c2f34965"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-log_processor"]="277cc29e506b1eb21b6ca977842c9b674338b2c7"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-logrotate"]="48d8b0fc774c1546c11322f8b47d7b42edd6fedb"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-logstash"]="f671fcf2c9aeb2bdc1719282cc2836b8825254f1"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-mailman"]="66dc9744ad55064c64a2ded3e9c70d596cae1e86"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-mediawiki"]="ea9b6df992f1419296a4a4be89c16950f0835b75"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-meetbot"]="527a0530e658324fd19d41c62a03f822f5b9fba9"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-mysql_backup"]="ec9649b4da787587a3b0e881deaae644309a755c"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-nodepool"]="9616250238db4232ae8cc7f6d63da43bc95a324f"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-odsreg"]="af091c7aa239fed1ae4602e4f60d31fdb75405da"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-openafs"]="9ddc9c3ced8ff8714c0fd0b95386b10fd8f8cb0e"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-openstack_health"]="86bd0f1d64c2ba961354f76eba972f9b5b0efefe"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-openstackci"]="0516d5400dd5f9eee35db7c7caf65d633e5acd35"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-openstackid"]="5eb035b196963c7c84c141a7564f1343c1200707"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-os_client_config"]="6bdafe24f74ed87ae1fc0083776fa0886db8c298"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-packagekit"]="a9b74ce44480043c05d5ff0735d079c5823aebaf"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-pgsql_backup"]="92eb54bb5b35b30cedcf96ae5947f0389e1e4c29"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-pip"]="adf639e8595718a890b469a4a876d9ed09490b31"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-planet"]="f66eee5b296a088230ca1905d9b41aab930ed4df"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-project_config"]="db5cb799fb408bdc764c889acc3b30d7673543b6"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-redis"]="e8078d26a3f45f7a67b5cb6be3272812793e0688"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-refstack"]="4336f5fb05f5c218c3c0acf0ce056ed5eba81078"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-reviewday"]="8bd8585606721d54f7d84426787b1e8c699a0520"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-simpleproxy"]="81fcbacb957cb7a9048a54381c4227ab657437f2"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-snmpd"]="2de225f9331c48acc3600353e3f9202cbf12f599"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-ssh"]="fa71d35cabe2dc711c5b3a7199b8e819d34d472c"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-ssl_cert_check"]="88ffe8ca2696522367d7f625b3753987e3f47c76"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-stackalytics"]="7d1ca74fc7ab7bed7885bd4b60ff9b621a6e8b6b"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-statusbot"]="4923f8ca4f7f3535183b17b27e04dacac0021d55"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-storyboard"]="5b9f6a201b73ef514a9f4cdd1b7b9f5c24d87471"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-subunit2sql"]="0e55e618ae4fdc7c1f3cbe4ea05b62dadefba743"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-sudoers"]="e0496eb5ecf65791dbd97148303a16dba1407f77"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-tmpreaper"]="e4ba8deebbadbe2c3471dc2a5b7ad0b1f44e3a3b"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-ulimit"]="949c8b4067ed8b5c5e48b8ec60ceb65aee778f14"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-unattended_upgrades"]="25c0e6afd6c77fa326c4c214affe01968a653bd2"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-unbound"]="dffe3580c13ee7519f7e119a31c9e7acc31c99e7"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-user"]="1cfbbf5acdb5a9e9d540a325e1d3ec7a7b773cfb"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-zanata"]="dc2b832f3b5e96bafbc3b71910d855dcf9e4e7cc"
INTEGRATION_MODULES["$OPENSTACK_GIT_ROOT/openstack-infra/puppet-zuul"]="790106561a8d977c47ce0c66861e0f80114edd36"

if [[ "$PUPPET_INTEGRATION_TEST" -ne "1" ]]; then
    # If puppet integration tests are not being run, merge SOURCE and INTEGRATION modules
    for MOD in ${!INTEGRATION_MODULES[*]}; do
        SOURCE_MODULES[$MOD]=${INTEGRATION_MODULES[$MOD]}
    done
fi

